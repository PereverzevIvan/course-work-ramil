{% extends "base.html" %}
{% block document_title %}{{ human.first_name }} {{ human.last_name }}{% endblock document_title %}

{% block additional_styles %}
<style>
    .profile-container {
        margin-top: 10px;
        display: grid;
        grid-template: 1fr 1fr  / 1fr 2fr;
        border: 1px solid black;
        padding: 10px;
        gap: 10px;
        align-items: start;
    }

    .info {
        gap: 5px;
        padding: 10px;
        border: 1px solid black;
        max-width: 100%;
        height: 100%
    }

    img {
        max-width: 100%;
        max-height: 100%;
        align-self: flex-start;
        display: inline-block;
        align-self: center;
        object-fit: cover;
    }

    .btn-link {
        padding: 5px 7px;
        background-color: lightgray;
        border: 1px solid black;
        margin-top: 10px;
    }

    .bold_text {
        font-weight: bold;
    }
</style>
{% endblock additional_styles %}

{% block content %}
    {% load static %}
    {% load extra_funcs %}
    <h1>Профиль пользвателя {{ human.first_name }} {{ human.last_name }}</h1>
    <div class="profile-container">
        {% if master %}
            <img src="{% static master.image %}" alt="{{master.user.first_name}} {{master.user.last_name}}">
        {% endif %}
        <div class="info wrapper">
            <p class="common-text"><span class="bold_text">Имя пользователя:</span> {{ human }}</p>
            <p class="common-text"><span class="bold_text">Имя:</span> {{ human.first_name }}</p>
            <p class="common-text"><span class="bold_text">Фамилия:</span> {{ human.last_name }}</p>
            <p class="common-text"><span class="bold_text">Контакт пользователя:</span> {{ human.email }}</p>

            {% if master %}
                <p class="common-text"><span class="bold_text">Роль:</span> Мастер </p>
                <p class="common-text">
                    <span class="bold_text">Список специализаций:</span>
                    {% all_specs master as all_specs %}
                    <ul style="list-style-position: inside; padding-left: 10px;">
                        {% for spec in all_specs %}
                            <li>
                                {{spec}}
                            </li> 
                        {% endfor %}
                    </ul>
                </p>
            {% else %}
                <p class="common-text"><span class="bold_text">Роль:</span> Пользователь </p>
            {% endif %}
            {% if user.id == human.id %}
                <a href="{% url 'users:logout' %}" class="btn btn-link">Выйти из профиля</a>
            {% endif %}
        </div>
    </div>
{% endblock content %}